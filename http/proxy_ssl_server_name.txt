SSL协议进行握手协商进行连接的时候，默认是不会发送主机名的，
也就是是以IP的形式来进行https连接握手协商的，这就导致一个问题，
当一台服务器上有多个虚拟主机使用同一个IP的时候，

Nginx进行反代就会报错！

 

SNI(Server Name Indication)：就是为了解决一个服务器，同一个IP，使用多个域名证书的情况，
也就是使用SSL连接服务器的时候，先发送访问的站点域名，
这样服务器就会根据域名返回一个合适的证书。

 

Nginx开启SNI： proxy_ssl_server_name on;

 